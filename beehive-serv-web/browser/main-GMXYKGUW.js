import{b as ve}from"./chunk-3I2GMS4M.js";import{a as p,b as te,c as oe,d as ne,k as ge,m as fe,n as ye,r as be}from"./chunk-3BZWRAAP.js";import{R as ae,V as se,W as le,X as de,Y as pe,Z as me,ba as ue,da as ce,ea as he}from"./chunk-UUSP7DNK.js";import{b as Z,c as J,d as K,e as Q,f as ee,i as ie,j as I,k as re,l as T}from"./chunk-BYX4P7MS.js";import"./chunk-Q64FFBLU.js";import{Ab as l,Bb as y,Cb as x,Cc as G,Db as R,Ib as q,Ja as O,Jc as X,Kb as A,Lc as _,Nc as Y,Sb as h,Tb as $,Wb as P,Xb as F,Ya as d,Yb as N,Za as c,_ as k,_a as U,ab as W,ba as u,ca as C,cb as V,cc as E,dc as b,eb as z,ec as v,fb as H,ga as f,ha as B,ma as M,na as S,ob as w,pa as D,qb as m,zb as n}from"./chunk-5QSZNQGQ.js";var Fe=(t,r)=>({"w-64":t,"w-16":r}),Ne=(t,r)=>({"ml-64":t,"ml-16":r});function Ee(t,r){t&1&&(x(0),y(1,"router-outlet"),R())}function Te(t,r){if(t&1&&(x(0),n(1,"div",1)(2,"aside",2),b(3,"async"),b(4,"async"),y(5,"app-sidebar"),l(),n(6,"div",3),b(7,"async"),b(8,"async"),n(9,"header",4),y(10,"app-header"),l(),n(11,"main",5),y(12,"router-outlet"),l()()(),R()),t&2){let e=A();d(2),m("ngClass",E(10,Fe,!v(3,2,e.isSidebarCollapsed$),v(4,4,e.isSidebarCollapsed$))),d(4),m("ngClass",E(13,Ne,!v(7,6,e.isSidebarCollapsed$),v(8,8,e.isSidebarCollapsed$)))}}var Me=(()=>{class t{constructor(e,i){this.auth=e,this.sidebarStateService=i,this.title="beehive-serv-web",this.isSidebarCollapsed$=this.sidebarStateService.collapsed$}static{this.\u0275fac=function(i){return new(i||t)(c(p),c(te))}}static{this.\u0275cmp=M({type:t,selectors:[["app-root"]],decls:2,vars:2,consts:[[4,"ngIf"],[1,"relative","h-screen","bg-light-bg","dark:bg-dark-bg","transition-all"],[1,"absolute","top-0","left-0","h-full","text-white","z-50","transition-all",3,"ngClass"],[1,"transition-all","duration-500",3,"ngClass"],[1,"w-full","shadow","z-10"],[1,"h-[calc(100vh-4rem)]","overflow-y-auto","p-6"]],template:function(i,o){i&1&&w(0,Ee,2,0,"ng-container",0)(1,Te,13,16,"ng-container",0),i&2&&(m("ngIf",!o.auth.isLoggedIn),d(),m("ngIf",o.auth.isLoggedIn))},dependencies:[X,_,ie,oe,ne,Y]})}}return t})();function je(t,r){if(t&1&&(n(0,"div",9),h(1),l()),t&2){let e=A();d(),$(e.error)}}var Se=(()=>{class t{constructor(e,i){this.auth=e,this.router=i,this.username="",this.password="",this.error=""}onSubmit(){this.error="",this.auth.loginApi(this.username,this.password).subscribe({next:()=>{this.router.navigateByUrl("/")},error:e=>{console.error("Login falhou",e),this.error=e.status===401?"Usu\xE1rio ou senha inv\xE1lidos.":"Ocorreu um erro. Tente novamente."}})}static{this.\u0275fac=function(i){return new(i||t)(c(p),c(I))}}static{this.\u0275cmp=M({type:t,selectors:[["app-login-page"]],decls:16,vars:3,consts:[[1,"flex","items-center","justify-center","h-screen","bg-gray-100","dark:bg-gray-800"],[1,"bg-white","dark:bg-gray-700","p-8","rounded-lg","shadow-lg","w-80",3,"ngSubmit"],[1,"text-2xl","mb-6","text-center","text-gray-800","dark:text-gray-200"],[1,"mb-4"],[1,"block","mb-1","text-gray-700","dark:text-gray-300"],["type","text","name","username","required","",1,"w-full","p-2","border","rounded",3,"ngModelChange","ngModel"],["type","password","name","password","required","",1,"w-full","p-2","border","rounded",3,"ngModelChange","ngModel"],["class","text-red-500 mb-4",4,"ngIf"],["type","submit",1,"w-full","py-2","rounded","bg-blue-600","text-white","hover:bg-blue-700","transition"],[1,"text-red-500","mb-4"]],template:function(i,o){i&1&&(n(0,"main")(1,"div",0)(2,"form",1),q("ngSubmit",function(){return o.onSubmit()}),n(3,"h2",2),h(4,"Login"),l(),n(5,"div",3)(6,"label",4),h(7,"Usu\xE1rio"),l(),n(8,"input",5),N("ngModelChange",function(s){return F(o.username,s)||(o.username=s),s}),l()(),n(9,"div",3)(10,"label",4),h(11,"Senha"),l(),n(12,"input",6),N("ngModelChange",function(s){return F(o.password,s)||(o.password=s),s}),l()(),w(13,je,2,1,"div",7),n(14,"button",8),h(15," Entrar "),l()()()()),i&2&&(d(8),P("ngModel",o.username),d(4),P("ngModel",o.password),d(),m("ngIf",o.error))},dependencies:[_,me,ae,se,le,ue,pe,de]})}}return t})();var we=(()=>{class t{constructor(e,i){this.auth=e,this.router=i}canActivate(){return this.auth.isLoggedIn?!0:this.router.createUrlTree(["/login"])}static{this.\u0275fac=function(i){return new(i||t)(f(p),f(I))}}static{this.\u0275prov=u({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();var Le={preloadingStrategy:re,scrollPositionRestoration:"enabled"},ke=[{path:"login",component:Se},{path:"",canActivate:[we],children:[{path:"",loadChildren:()=>import("./chunk-ZX4NSHE2.js").then(t=>t.HomeModule)},{path:"user",loadChildren:()=>import("./chunk-NNGYDCB6.js").then(t=>t.UserModule)},{path:"apiary",loadChildren:()=>import("./chunk-VJLJRA66.js").then(t=>t.ApiaryModule)},{path:"beehive",loadChildren:()=>import("./chunk-AMUEGM7K.js").then(t=>t.BeehiveModule)},{path:"management",loadChildren:()=>import("./chunk-3AH74ATY.js").then(t=>t.ManagementModule)}]},{path:"**",redirectTo:""}],Ae=(()=>{class t{static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275mod=S({type:t})}static{this.\u0275inj=C({imports:[T.forRoot(ke,Le),T]})}}return t})();var Be="@",De=(()=>{class t{constructor(e,i,o,a,s){this.doc=e,this.delegate=i,this.zone=o,this.animationType=a,this.moduleImpl=s,this._rendererFactoryPromise=null,this.scheduler=B(W,{optional:!0})}ngOnDestroy(){this._engine?.flush()}loadImpl(){return(this.moduleImpl??import("./chunk-V6KUGZVM.js")).catch(i=>{throw new k(5300,!1)}).then(({\u0275createEngine:i,\u0275AnimationRendererFactory:o})=>{this._engine=i(this.animationType,this.doc,this.scheduler);let a=new o(this.delegate,this._engine,this.zone);return this.delegate=a,a})}createRenderer(e,i){let o=this.delegate.createRenderer(e,i);if(o.\u0275type===0)return o;typeof o.throwOnSyntheticProps=="boolean"&&(o.throwOnSyntheticProps=!1);let a=new L(o);return i?.data?.animation&&!this._rendererFactoryPromise&&(this._rendererFactoryPromise=this.loadImpl()),this._rendererFactoryPromise?.then(s=>{let Re=s.createRenderer(e,i);a.use(Re)}).catch(s=>{a.use(o)}),a}begin(){this.delegate.begin?.()}end(){this.delegate.end?.()}whenRenderingDone(){return this.delegate.whenRenderingDone?.()??Promise.resolve()}static{this.\u0275fac=function(i){U()}}static{this.\u0275prov=u({token:t,factory:t.\u0275fac})}}return t})(),L=class{constructor(r){this.delegate=r,this.replay=[],this.\u0275type=1}use(r){if(this.delegate=r,this.replay!==null){for(let e of this.replay)e(r);this.replay=null}}get data(){return this.delegate.data}destroy(){this.replay=null,this.delegate.destroy()}createElement(r,e){return this.delegate.createElement(r,e)}createComment(r){return this.delegate.createComment(r)}createText(r){return this.delegate.createText(r)}get destroyNode(){return this.delegate.destroyNode}appendChild(r,e){this.delegate.appendChild(r,e)}insertBefore(r,e,i,o){this.delegate.insertBefore(r,e,i,o)}removeChild(r,e,i){this.delegate.removeChild(r,e,i)}selectRootElement(r,e){return this.delegate.selectRootElement(r,e)}parentNode(r){return this.delegate.parentNode(r)}nextSibling(r){return this.delegate.nextSibling(r)}setAttribute(r,e,i,o){this.delegate.setAttribute(r,e,i,o)}removeAttribute(r,e,i){this.delegate.removeAttribute(r,e,i)}addClass(r,e){this.delegate.addClass(r,e)}removeClass(r,e){this.delegate.removeClass(r,e)}setStyle(r,e,i,o){this.delegate.setStyle(r,e,i,o)}removeStyle(r,e,i){this.delegate.removeStyle(r,e,i)}setProperty(r,e,i){this.shouldReplay(e)&&this.replay.push(o=>o.setProperty(r,e,i)),this.delegate.setProperty(r,e,i)}setValue(r,e){this.delegate.setValue(r,e)}listen(r,e,i){return this.shouldReplay(e)&&this.replay.push(o=>o.listen(r,e,i)),this.delegate.listen(r,e,i)}shouldReplay(r){return this.replay!==null&&r.startsWith(Be)}};function _e(t="animations"){return z("NgAsyncAnimations"),D([{provide:V,useFactory:(r,e,i)=>new De(r,e,i,t),deps:[G,K,H]},{provide:O,useValue:t==="noop"?"NoopAnimations":"BrowserAnimations"}])}var Ie=(()=>{class t{constructor(e){this.auth=e}intercept(e,i){let o=this.auth.userSubject.value?.token;if(o){let a=e.clone({setHeaders:{Authorization:`Bearer ${o}`}});return i.handle(a)}return i.handle(e)}static{this.\u0275fac=function(i){return new(i||t)(f(p))}}static{this.\u0275prov=u({token:t,factory:t.\u0275fac})}}return t})();var xe=(()=>{class t{static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275mod=S({type:t,bootstrap:[Me]})}static{this.\u0275inj=C({providers:[_e(),{provide:Z,useClass:Ie,multi:!0}],imports:[ee,Ae,be,J,ce,he,ge,ve,fe,ye]})}}return t})();Q().bootstrapModule(xe).catch(t=>console.error(t));
